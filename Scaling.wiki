#summary Scaling Gerrit Installations

= Master =

The first step to scaling is to scale your master server.  Some easy, but pricey ways to scale your master are:

  * Adding cores, some of the larger installations use 24 core machines
  * Adding RAM, most of the larger installations have at least 48GM, some have 100+GB
  * Ensure fast disk IO, SSDs help
  * Network, I suspect that most large installs use 10GB

= Mirrors/Slaves =

One you have a decent master, it is probably worth adding either some git mirrors (if you do not need ACLs on your repos), or Gerrit slaves to help offload much of your read only requests.

= Issues =

As you scale, you will always run into some issues.  Depending on your specific setup those issues may be very different from what other people are running into.

== Replication ==

=== JSch ===

Jsch has threading issues which seem to serialize replication even across worker groups.  This has lead some teams to perform replication without using ssh (Jsch is the ssh implementation used inside jgit).  To do this, you may setup a "write only" git deamon on your slaves with a port only open to your Gerrit master and replicate via git daemon without authentication or encryption.  This is particularly useful if you have sites which replicate to at very different speeds.

== Tags ==

== Changes ==

== ACLS ==

== Git GC ==

Running GC regularly is important, jgit does not have built in gc so unlike a regular git repo it will not auto run every now and then.  Setting up a crontab is probably a good idea.  If you do run gc too often, however excessive pack file churn can also be a problem.

== Disk Space ==

== Java GC ==

== Repo Syncs ==

Channel Master Issues.